# 残課題と今後の機能追加 (TODO)

## 🔥 優先度: 高 (High Priority)

- [ ] **認証機能の実装 (Supabase Auth)**
    - 現状は全ユーザーが同一のデータを参照・操作できてしまうため、ユーザーごとのログイン機能とデータ分離が必要です。
    - RLS (Row Level Security) の設定。

- [x] **銘柄の編集・削除機能**
    - 間違えて登録した銘柄の削除や、保有数の修正ができるようにCRUD機能を完備する必要があります。

- [x] **詳細画面の「木」のレベルロジック実装**
    - 現在は全ての木が「若木」としてハードコードされています。
    - YOCや配当額に基づいて `level` ('若木', '中木', '大木', '伝説の木') を動的に決定するロジックを実装してください。

- [x] **箱庭の3D化 (Isometric Garden)**
    - React Three Fiberを使用して、2Dグリッドを等角投影の3D空間に変更。
    - 資産の成長を視覚的にリッチに表現。


## 🚀 機能追加 (Feature Requests)

- [x] **統計画面 (Stats Tab) の実装**
    - **セクター比率**: ポートフォリオの分散状況を円グラフで表示。
    - **配当推移**: 年ごとの受取配当金の推移を棒グラフで可視化。

- [ ] **設定画面 (Settings Tab) の実装**
    - ユーザープロファイル設定。
    - テーマ設定（必要であれば）。
    - データのエクスポート機能 (CSV/JSON)。

- [ ] **箱庭のインタラクション強化**
    - **収穫 (Harvest)**: "Tap tree to harvest" のテキスト通り、木をタップした際にコインやエフェクトが出るような演出を追加。
    - **配置のカスタマイズ**: ドラッグ&ドロップで木の位置を変更できる機能。

## ⚙️ バックエンド・インフラ

- [ ] **バックエンドのデプロイ**
    - Pythonバックエンド (Flask) を Render や Heroku などのクラウド環境にデプロイ。
    - フロントエンドからのAPIエンドポイントを環境変数で切り替え可能にする。

- [ ] **データキャッシュ戦略**
    - `yfinance` へのリクエスト数を減らすため、取得した株価データをSupabaseまたはRedisに一定期間キャッシュする仕組み。

- [ ] **エラーハンドリングの強化**
    - API接続エラー時や、該当銘柄が見つからない場合のユーザーへのフィードバックを改善。
